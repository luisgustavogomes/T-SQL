CREATE OR ALTER PROCEDURE DBO.STPLISTA_TABELAS
AS
BEGIN
    
    SELECT 
        [OBJECT_ID],
        [NAME],
        [TYPE_DESC],
        CREATE_DATE
    FROM 
        SYS.TABLES
 
END
 
 
-- EXECUTA A STORED PROCEDURE
EXEC DBO.STPLISTA_TABELAS
GO
 
EXEC DBO.STPLISTA_TABELAS
WITH RESULT SETS ((
    [ID_TABELA] INT,
    [NOME_TABELA] VARCHAR(100),
    [TIPO] VARCHAR(50),
    [DATA_CRIACAO] DATE
))



CREATE OR ALTER PROCEDURE DBO.STPLISTA_TABELAS2
AS
BEGIN
    
    SELECT 
        [OBJECT_ID],
        [NAME],
        [TYPE_DESC],
        CREATE_DATE
    FROM 
        SYS.TABLES


    SELECT 
        [OBJECT_ID],
        [NAME],
        [TYPE_DESC],
        CREATE_DATE
    FROM 
        SYS.OBJECTS

END


-- EXECUTA A STORED PROCEDURE
EXEC DBO.STPLISTA_TABELAS2
GO

EXEC DBO.STPLISTA_TABELAS2
WITH RESULT SETS (
    (
        [ID_TABELA] INT,
        [NOME_TABELA] VARCHAR(100),
        [TIPO] VARCHAR(50),
        [DATA_CRIACAO] DATE
    ),
    (
        [ID_OBJETO] INT,
        [NOME_OBJETO] VARCHAR(100),
        [TIPO] VARCHAR(50),
        [DATA_CRIACAO] DATE
    )
)

